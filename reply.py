import os
import random
import nest_asyncio
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, filters, ContextTypes

nest_asyncio.apply()

WATCH_WORDS_RESPONSES = {
    'كوكب': ['موجود عايز اى بوشك ده😒', 'ثانيه واحده بتشقط وجى🙄', 'شفلك كلبه❤️😂', 'عندك امانة الكوفي؟ ☕️', 'كوكب الصباح أحلى معك 😍'],
    'بحبك': ['وانا كمان بعشقك يا {mention} 💋🥰', 'لو تدري كم أحبك يا عمري 😍', 'أنت النجم اللي بيضوي في سما قلبي ❤️', 'ما في أحلى من حبك يا غالي 🌹', 'كل يوم وأنا أحبك أكثر وأكثر ❤️'],
    'خاص': ['عيب 🌚', 'هتعمل اي في الخاص يسافل 🤓', 'ممنوع تقول هكذا في الخاص 😡', 'لا تتجاوز الخطوط يا صاحب الأخلاق 🌟', 'فكر في غيرك قبل نفسك يا حبيبي 😌'],
    'حصل': ['عباس بيتصل', 'حصل وجبنه😂❤️', 'حصل حصل يا فاتن 😄', 'حصل والله وحصل 😎', 'كل شيء بيحصل بإذن الله 🌟'],
    'بقولك': ['قول اي؟..', 'قول 🧐 ', 'حاضر قول 🤔', 'قول وما تقول كتير 🤨', 'لكن قلت قبل كده 😄'],
    'مرحبا': ['مرحباً {mention} 🌟', 'مرحبا يا أهل الخير 🤗', 'هلا وغلا يا عسل 🍯', 'مرحباً يا صديقي، كيف حالك؟ 🌞', 'مرحباً يا غالي، اشتقت لك 🥰'],
    'تعبان': ['لا تتعب نفسك كثير، ارتاح شوي 🤗', 'خذ قسطًا من الراحة، تستاهل ❤️', 'الله يعينك، راحة البال أهم 😌', 'كلنا بنمر بأوقات صعبة، اتمسك يا غالي 🌟', 'احكي لي، ربما يخفف عنك شوي 🤗'],
    'جميل': ['أنت الجميل في عيني يا {mention} 😍', 'كل يوم وأنت أجمل 🌹', 'جمالك بيجذب القلوب ❤️', 'الجمال داخلي قبل خارجي يا غالي 🌟', 'الجمال موجود في كل شيء حولنا، بس يبقى أحلى فيك 😍'],
    'هلو': ['هلو يا {mention} 🙋‍♂️', 'هلو هلو هلووو 🎉', 'هلا بالغالي 🤗', 'هلو كيف حالك اليوم؟ 🌞', 'هلو يا غالي، اتفضل 🥳'],
    'غريب': ['الدنيا مليئة بالغرائب والعجائب يا صديقي 😄', 'كل يوم فيه شيء جديد وغريب 🤔', 'غريب اللي بتقوله بصراحة 😅', 'الحياة مليئة بالمفاجآت والغرائب، استمتع بكل لحظة 🌟', 'غريب أنت لما تقول كده 😄'],
    'صباح': ['صباح الخير يا {mention} 🌞', 'صباح النور والسرور 🌟', 'صباحك ورد يا غالي 🌹', 'صباح الحب والأمل والسعادة يا صديقي 🌅', 'صباح الخير يا غالي، كيف كانت ليلتك؟ 🌟'],
    'مساء': ['مساء الخير يا {mention} 🌙', 'مساء الورد والياسمين 🌸', 'مساء النور والسرور يا أحلى وردة 🌹', 'مساء الأمل والسعادة والحب يا غالي 🌟', 'مساء الخير يا صديقي، كيف كان يومك؟ 🌟'],
    'تحب': ['أحب الأشياء الجميلة، مثلك يا {mention} 😍', 'أنا أحب كل شيء يجلب السعادة 🥰', 'الحب هو لغة القلوب يا صديقي ❤️', 'أحب الحياة وأحب الناس الطيبة مثلك 🌟', 'الحب هو الشيء الوحيد الذي يجعل العالم أجمل 🌍❤️'],
    'عرفان': ['عرفان رائع ومميز، أحب الحديث معه 🌟', 'عرفان يا روحي وقلبي، كيفك؟ ❤️', 'أنا سعيد جدًا بالتعرف على عرفان 🤗', 'عرفان يا غالي، أنت شخص رائع ومحبوب من الجميع 🌟', 'عرفان هو الصديق الوفي الذي نتمنى أن يكون لدينا دائمًا 🌟'],
    'ربنا': ['ربنا يحفظك ويبارك فيك يا {mention} 🙏', 'ربنا يسهل أمورك ويوفقك في كل خطوة 🌟', 'ربنا يديم عليك الصحة والعافية يا غالي 🙌', 'ربنا يرزقك السعادة والهناء يا صديقي 🌟', 'ربنا يحفظك من كل شر ويقويك على الخير 🙏'],
    'هيه': ['هيه هيه، شو الجديد؟ 😄', 'هيه يا غالي، كيف الحال؟ 🤗', 'هيه هيه، وشوفنا شو الأخبار 🌟', 'هيه يا صديقي، اتفضل وحكي 🎉', 'هيه يا غالي، كيف كان يومك؟ 😊'],
    'ياه': ['ياه يا {mention}، وش هالحلاوة؟ 😍', 'ياه يا حلو، تحفة الله يحفظك 🌸', 'ياه يا غالي، لا تحرمنا من وجودك 🙏', 'ياه يا صديقي، كيف الحال؟ 🤗', 'ياه يا غالي، شو الجديد معك؟ 🌟'],
    'ههه': ['ههههههه، دائمًا تضحكني يا {mention} 😂', 'هههه، أنت دائمًا تضيف الفرحة للجميع 🌟', 'هههه، يا رب دائمًا تبقى مبتسمًا وسعيدًا 😄', 'ههههه، أنا أحب أن أراك تضحك وتستمتع 🤗', 'ههه، الضحكة الجميلة تزيد الحياة روعة 🌟'],
    'أمور': ['كل شيء تمام، أموري بخير والحمد لله 🙌', 'أموري طيبة، شكرًا على السؤال يا {mention} 🌟', 'أموري تمام، أنا هنا للإستمتاع بوقتي معكم 🥰', 'أموري ممتازة، أنا هنا للإستمتاع بوقتي معكم 🌟', 'كل شيء على ما يرام، شكرًا على السؤال 🌟'],
    'أمل': ['الأمل هو دائمًا السماء الزرقاء في حياتنا يا {mention} 🌈', 'الأمل هو الشمعة التي تضيء ظلام الحياة 🕯', 'الأمل هو القوة التي تجعلنا نواصل المسير في الحياة 🚀', 'الأمل هو السر وراء كل بداية جديدة 🌟', 'الأمل هو الذي يجعل الحياة جميلة وقيمة 🌟'],
    'يوم': ['كل يوم جديد هو فرصة لبداية جديدة ومشرقة يا {mention} 🌅', 'اليوم هو هدية، لذلك نستمتع به ونقدره 🎁', 'كل يوم هو فرصة لتكون أفضل من الأمس 🌟', 'اليوم هو فرصة جديدة لتحقيق الأحلام والأهداف 🌟', 'كل يوم هو مغامرة جديدة، استمتع بكل لحظة 🌟'],
    'كويس': ['كويس يا {mention}، ازيك؟ 😄', 'الحمد لله، كويس وأنت؟ 😊', 'كويس ومبسوط لما أتواجد معاكم 🌟', 'الله يخليك، كويس يا غالي 🌹', 'كويس والله، اتمنى أنك كمان كويس 🌟'],
    'حبيبي': ['أنت حبيبي يا {mention}، انت الغالي عليا ❤️', 'حبيبي دائماً معاكم يا غالي 🥰', 'أنت الحبيب يا صديقي، مش حتقدر تكون أحلى 😍', 'حبيبي أنت اللي بتضيء يومي 🌟', 'حبيبي يا روحي، كيف حالك؟ 🌹'],
    'مصر': ['مصر أم الدنيا وأنا فتخي، يا رب دايماً تحفظها 🇪🇬', 'مصر في قلبي وروحي، دايماً فخور بأصولي 🌟', 'أنا من مصر وأفتخر، أرض الأمان والحضارة 🌹', 'مصر أحلى بلد في الدنيا والله 🥰', 'مصر أم الدنيا وفخور إني مصري 🇪🇬'],
    'بلد': ['مصر أجمل بلد في الدنيا، انت فاكر غير كده؟ 🌟', 'مصر بلد الحضارات والتاريخ العريق، وأنا فخور بأني مصري 🇪🇬', 'بلدنا مصر دايماً بتفتخر بتاريخها وحضارتها 🌹', 'مصر بلد الجمال والأمان، أنا مش بحب غيرها 🥰', 'مصر أحلى بلد في الدنيا وكلها حب وجمال 🇪🇬'],
    'يا حبيبي': ['يا حبيبي أنت الغالي يا {mention}، كيف حالك؟ 😍', 'يا حبيبي، اشتقت لك كثير ❤️', 'يا حبيبي، أنت أجمل شيء في حياتي 🌹', 'يا حبيبي، دائمًا تذكرني بكل ما هو جميل 🌟', 'يا حبيبي، كيف تمر الأيام بدونك؟ 🥰'],
    'تعال': ['تعال ونشوف العجب مع بعض يا {mention} 🎉', 'تعال يا غالي، سأجهز لك مفاجأة 😄', 'تعال ونقضي وقتًا ممتعًا سويًا 🤗', 'تعال، الدنيا محتاجة ضحكتك يا صديقي 😄', 'تعال وشوف كيف نعمل الحياة أفضل معًا 🌟'],
}

async def respond_to_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    message_text = update.message.text.lower()
    user_mention = update.message.from_user.first_name

    for word in WATCH_WORDS_RESPONSES:
        if word in message_text:
            response = random.choice(WATCH_WORDS_RESPONSES[word])
            response = response.replace('{mention}', user_mention)    
            await context.bot.send_message(
                chat_id=update.effective_chat.id,
                text=response,
                reply_to_message_id=update.message.message_id  
            )
            break

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    user_name = update.effective_user.first_name 
    welcome_message = (
        f"اهلا عزيزي *{user_name}*\n"
        "☠️• *انا اسمي كوكب*\n\n"
        "☠️• *اختصاصي الردود و التفاعل*\n\n"
        "☠️• *في المجموعات والخاص ايضا*\n\n"
        "☠️• *لتفعيل البوت عليك اتباع مايلي*\n\n"
        "☠️• *اضفني لمجموعتك وقم بترقيتي مشرف*\n"
    ).replace(".", "\\.").replace("-", "\\-").replace("!", "\\!")

    keyboard = [
        [
            InlineKeyboardButton(text="𝒎𝒐𝒉𝒂𝒎𝒎𝒆𝒅", url="tg://user?id=6264668799"),
            InlineKeyboardButton(text="᥉᥆ᥙᖇᥴᥱ 𝒎𝒐𝒉𝒂𝒎𝒎𝒆𝒅", url="https://t.me/Your_uncle_Muhammad")
        ],
        [
            InlineKeyboardButton(text="Add me to a channel", url="https://t.me/planet_646bot?startchannel")
        ]
    ]

    reply_markup = InlineKeyboardMarkup(keyboard)

    await context.bot.send_photo(
        chat_id=update.effective_chat.id,
        photo="https://t.me/B_6ODA/2304",
        caption=welcome_message,
        parse_mode="MarkdownV2",
        reply_markup=reply_markup
    )

async def main() -> None:
    application = ApplicationBuilder().token("7937133144:AAFoe6xt2zyyRl7Gqf8FRQ087xgYmXbqcSA").build()
    
    application.add_handler(CommandHandler("start", start))
    

    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, respond_to_message))
    
    await application.run_polling()

if __name__ == '__main__':
    import asyncio
    asyncio.run(main())
